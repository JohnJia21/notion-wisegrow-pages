<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8"/>
  <!-- 安卓键盘友好 + 安全区 + 视口收缩 -->
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, interactive-widget=resizes-visual"/>
  <meta name="theme-color" content="#17c3a2"/>
  <title>WiseGrow · 系统成长助手</title>
  <meta name="color-scheme" content="light dark"/>
  <style>
    :root{
      --bg:#f7faf9; --text:#0b1720; --muted:#5b6b73; --border:#e6eeeb; --card:#ffffff;
      --brand1:#17c3a2; --brand2:#2563eb;
      --shadow:0 10px 28px rgba(3,18,7,.07);
      --inset: inset 0 2px 3px rgba(0,0,0,.06), inset 0 -2px 3px rgba(255,255,255,.8);
      --tap:44px;
      --safe-top: env(safe-area-inset-top, 0px);
      --safe-bottom: env(safe-area-inset-bottom, 0px);
    }
    @media (prefers-color-scheme: dark){
      :root{
        --bg:#0c1215; --text:#e7ecef; --muted:#96a2a8; --border:#182024; --card:#0f161a;
        --shadow:0 10px 30px rgba(0,0,0,.35);
        --inset: inset 0 2px 3px rgba(0,0,0,.5), inset 0 -2px 3px rgba(255,255,255,.05);
      }
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;background:var(--bg);color:var(--text);
      font-family: ui-sans-serif, -apple-system, "Segoe UI", Roboto, "PingFang SC","Noto Sans CJK SC","Microsoft YaHei", Arial;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      padding-top: var(--safe-top);
    }

    /* ===== 布局：桌面侧栏；移动隐藏 ===== */
    .app{display:grid;grid-template-columns: 240px 1fr;min-height:100vh}
    @supports (height: 100dvh){ .app{min-height:100dvh} }
    @supports (height: 100svh){ .app{min-height:100svh} }

    .sidebar{
      padding:16px 14px;border-right:1px solid var(--border);
      background: linear-gradient(180deg, rgba(255,255,255,.7), rgba(255,255,255,0));
    }
    .brand{display:flex;align-items:center;gap:10px;padding:6px 8px;border-radius:12px}
    .brand img{width:28px;height:28px;border-radius:10px;box-shadow:var(--shadow)}
    .brand .name{font-weight:800;letter-spacing:.2px}
    .groupTitle{margin:14px 8px 6px;font-size:11px;color:var(--muted);text-transform:lowercase;letter-spacing:.8px}
    .nav{display:grid;gap:6px}
    .nav a{
      display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:12px;
      text-decoration:none;color:var(--text); min-height: var(--tap);
    }
    .nav a:hover{background:var(--card);box-shadow:var(--shadow)}

    /* ===== 主区：顶部对齐，底部固定输入条 ===== */
    .main{position:relative;display:flex;flex-direction:column;min-height:100%}
    .topbar{
      height:56px;display:flex;align-items:center;justify-content:center;
      border-bottom:1px dashed var(--border);
      background: radial-gradient(1200px 120px at 50% 0%, rgba(23,195,162,.08), transparent);
      position:sticky; top:0; z-index:2;
    }
    .title{font-weight:700;opacity:.9}

    /* 内容滚动区：给底部输入条留出空间 */
    .content{
      flex:1; overflow:auto;
      padding:24px 16px calc(120px + var(--safe-bottom)); /* 底部留白，避免被输入条遮挡 */
    }

    .hero{
      font-size:36px;font-weight:800;line-height:1.15;margin:6px 0 18px;
      background: linear-gradient(90deg, var(--brand1), var(--brand2));
      -webkit-background-clip:text;background-clip:text;color:transparent;
      text-align:left;
    }
    .intro{color:var(--muted);margin-bottom:16px}

    .examples{display:grid;gap:12px;grid-template-columns:repeat(2,1fr)}
    .ex{
      position:relative;padding:14px 16px 14px 18px;border-radius:16px;background:var(--card);
      border:1px solid var(--border);box-shadow:var(--shadow);font-size:14px;min-height:56px;
      display:flex;align-items:center;cursor:pointer;
    }
    .ex::before{
      content:"";position:absolute;left:0;top:0;bottom:0;width:4px;border-radius:16px 0 0 16px;
      background:linear-gradient(180deg,var(--brand1),var(--brand2));
    }

    /* 底部固定输入条：Android 键盘弹出时，Chrome 会根据 interactive-widget 收缩可视区 */
    .dock{
      position:fixed; left:0; right:0; bottom:0;
      padding:10px 12px calc(10px + var(--safe-bottom));
      background: linear-gradient(180deg, rgba(247,250,249,0), rgba(247,250,249,.9));
      backdrop-filter: blur(6px);
      border-top:1px solid var(--border);
      z-index:3;
    }
    .ask{
      margin:0 auto; max-width:920px;
      display:flex;align-items:center;gap:10px;padding:10px;
      border-radius:48px;background:var(--card);
      box-shadow: var(--shadow), var(--inset);border:1px solid var(--border);
    }
    .pill{
      width:var(--tap);height:var(--tap);border-radius:50%;display:grid;place-items:center;
      background:linear-gradient(180deg,#fff,rgba(255,255,255,0)); border:1px solid var(--border);
      box-shadow: var(--inset); cursor:pointer; flex:0 0 auto;
    }
    .inputWrap{flex:1;display:flex;align-items:center;padding:0 6px}
    input[type="text"]{
      flex:1;height:48px;border:none;outline:none;background:transparent;color:var(--text);
      font-size:16px; /* 防止放大 */
    }
    .go{
      height:var(--tap);padding:0 16px;border:none;border-radius:21px;color:#fff;cursor:pointer;
      background:linear-gradient(135deg,var(--brand1),var(--brand2));font-weight:700; flex:0 0 auto;
    }

    /* 移动：隐藏侧栏，单列 */
    @media (max-width:1024px){
      .app{grid-template-columns:0 1fr}
      .sidebar{display:none}
    }
    @media (max-width:640px){
      .hero{font-size:24px}
      .examples{grid-template-columns:1fr}
    }
  </style>
</head>
<body>
<div class="app">
  <!-- Sidebar（桌面可见） -->
  <aside class="sidebar" aria-label="sidebar">
    <div class="brand">
      <img src="logo.png" alt="WiseGrow logo"/>
      <div class="name">WiseGrow</div>
    </div>

    <div class="groupTitle">quick</div>
    <nav class="nav">
      <a href="#"><span>新聊天</span></a>
      <a href="#"><span>搜索聊天</span></a>
      <a href="#"><span>库</span></a>
    </nav>

    <div class="groupTitle">labs</div>
    <nav class="nav">
      <a href="#"><span>Codex</span></a>
      <a href="#"><span>Sora</span></a>
      <a href="#"><span>GPT</span></a>
    </nav>

    <div class="groupTitle">workspaces</div>
    <nav class="nav">
      <a href="#"><span>【产研层面】</span></a>
      <a href="#"><span>思维&决策系统</span></a>
      <a href="#"><span>身心健康系统</span></a>
      <a href="#"><span>情绪韧性线</span></a>
      <a href="#"><span>职业成长系统</span></a>
    </nav>
  </aside>

  <!-- Main -->
  <main class="main">
    <div class="topbar"><div class="title">WiseGrow · 系统成长助手</div></div>

    <!-- 可滚动内容：顶部对齐 -->
    <div class="content" id="content">
      <h1 class="hero">您今天在思考什么？</h1>
      <p class="intro">在这里提出问题、查看建议示例或从常用入口开始。</p>

      <div class="examples" id="examples">
        <div class="ex">帮我梳理一个【系统成长路径】的阶段划分</div>
        <div class="ex">生成一张【方法卡】：如何提升团队协作效率</div>
        <div class="ex">把这段复盘转成【结构卡】并给记忆要点</div>
        <div class="ex">做个【矛盾体地图】+【系统反馈环】分析</div>
      </div>
    </div>

    <!-- 底部固定输入条 -->
    <div class="dock">
      <form class="ask" id="askForm" autocomplete="off">
        <button class="pill" type="button" title="新建">
          <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="#6b7280" stroke-width="2">
            <path d="M12 5v14M5 12h14" stroke-linecap="round"/>
          </svg>
        </button>

        <div class="inputWrap">
          <input id="q" type="text" placeholder="询问任何问题" aria-label="输入你的问题"/>
        </div>

        <button class="pill" type="button" title="语音">
          <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="#6b7280" stroke-width="2">
            <path d="M12 3a3 3 0 0 1 3 3v6a3 3 0 1 1-6 0V6a3 3 0 0 1 3-3z"/>
            <path d="M19 10v2a7 7 0 0 1-14 0v-2" stroke-linecap="round"/>
            <path d="M12 19v3" stroke-linecap="round"/>
          </svg>
        </button>

        <button class="go" type="submit">开始</button>
      </form>
    </div>
  </main>
</div>

<script>
  // —— 提交占位逻辑：替换为你的后端/路由
  document.getElementById('askForm').addEventListener('submit', function(e){
    e.preventDefault();
    const q = (document.getElementById('q').value || '').trim();
    if(!q){ document.getElementById('q').focus(); return; }
    alert('WiseGrow 收到问题：' + q + '\n（这里接入你的对话接口或跳转至 /chat ）');
  });

  // —— 示例点击填充
  document.querySelectorAll('#examples .ex').forEach(el=>{
    el.addEventListener('click',()=>{
      document.getElementById('q').value = el.textContent.trim();
      document.getElementById('q').focus();
    });
  });

  // —— 安卓 Chrome：键盘弹出时让内容区保持可见
  (function(){
    const content = document.getElementById('content');
    const adjust = () => {
      // 让底部 dock 不遮住最后一屏内容
      const dockHeight = document.querySelector('.dock').getBoundingClientRect().height || 100;
      content.style.paddingBottom = (dockHeight + 16) + 'px';
    };
    adjust();
    window.addEventListener('resize', adjust);
    // 输入框聚焦滚动到可视区域中间
    const q = document.getElementById('q');
    q.addEventListener('focus', () => {
      setTimeout(() => {
        q.scrollIntoView({block:'center', behavior:'smooth'});
      }, 80);
    });
  })();
</script>
</body>
</html>
